# Expected Database Output

This directory contains the expected Parquet database output generated by `bundle_database()` from the test extraction data.

## Structure

The database uses hive partitioning:

```
extracted_activity.parquet/
├── asset_type=blobs/
│   ├── blob_head=1/
│   │   └── 0.parquet
│   ├── blob_head=2/
│   │   └── 0.parquet
│   └── blob_head=a/
│       └── 0.parquet
└── asset_type=zarr/
    ├── blob_head=3/
    │   └── 0.parquet
    └── blob_head=b/
        └── 0.parquet
```

Each Parquet file contains columns:
- `asset_type`: Single character ('b' for blobs, 'z' for zarr)
- `blob_head`: First character of the asset ID
- `timestamp`: Unix timestamp of access
- `blob_index`: Integer index mapping to asset ID
- `bytes_sent`: Bytes transferred
- `indexed_ip`: Anonymized IP index

## Blob Index Mapping

The `blob_index_to_id.yaml` file maps blob indexes to their full asset IDs, enabling efficient storage while maintaining asset identity.
